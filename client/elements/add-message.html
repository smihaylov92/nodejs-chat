<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="text-entry.html">
<link rel="import" href="audio-recording.html">
<link rel="import" href="camera-recording.html">

<dom-module id="add-message">
	<template>
		<style>
			:host {
				flex-shrink: 0;
			}

	        :host .add-message-wrapper:not([selected]) {
	            display: none;
	        }
		</style>
		<div class="add-message-wrapper" data-type='T' selected>
			<text-entry></text-entry>
		</div>
		<div class="add-message-wrapper" data-type='A'>
			<audio-recording></audio-recording>
		</div>
		<div class="add-message-wrapper" data-type='P'>
			<camera-recording></camera-recording>
		</div>
		<div class="add-message-wrapper" data-type='V'>
			<video-recording></video-recording>
		</div>
	</template>

	<script>
		(function(){
			'use strict';
			Polymer({
			  	is: 'add-message',
			  	properties: {
			  		msgType: {
			  			type: String,
	                    notify: true,
	                    observer: '_updateMsgView'
			  		}
			  	},

			  	_updateMsgView: function(){
			  		Polymer.dom(this.root).querySelector('.add-message-wrapper[selected]').removeAttribute('selected');

			  		Polymer.dom(this.root).querySelector('.add-message-wrapper[data-type="' + this.msgType + '"]').setAttribute('selected', '');
			  	}
			});
		})();
	</script>

</dom-module>